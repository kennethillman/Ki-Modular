
/*
EON Teaser C
*/ 

;(function(document,$) {


    window.eonTeaserC = window.eonTeaserC || {};

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Init
/////////////////////////////////////////////////////////////////////////////////////////////////////////


    eonTeaserC.eonInit = function() {
      
         eonTeaserC.eonItemCount();
         
    };

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Equal heights
/////////////////////////////////////////////////////////////////////////////////////////////////////////

	// Thanks Paul Irish
	$.fn.setAllToMaxHeight = function(){
		return this.height( Math.max.apply(this, $.map( this , function(e){ return $(e).height() }) ) );
	}


/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Equal heights
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    eonTeaserC.eonEqualHeights = function () {

	    $('.eon-s-teaserC').each(function () {
	        var el = $(this);

	      	$('p' , this).css('height', 'auto').setAllToMaxHeight()﻿;
	      	$('header', this).css('height', 'auto').setAllToMaxHeight()﻿;

	    });

    };


/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// TSR - Item count
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    eonTeaserC.eonItemCount = function () {

        $('.eon-s-teaserC .eon-container').each(function () {

            var el = $(this);
            var elCount =  el.children().size();

            el.parent().addClass('count-' + elCount);

        });

    };
  

/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Load
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    $(window).on('load', function(){

         eonTeaserC.eonEqualHeights();
      
    });

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Ready
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    $(document).on('ready', function(){

         eonTeaserC.eonInit(); 
      
    });

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Resize
/////////////////////////////////////////////////////////////////////////////////////////////////////////

	// jquery.debouncing.js, thanks Paul Irish

   $(window).smartresize(function(){

  	     eonTeaserC.eonEqualHeights();

	});

/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

})(document,jQuery);

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// END
/////////////////////////////////////////////////////////////////////////////////////////////////////////

