
/*
EON Teaser B
*/ 


;(function(document,$) {

    window.eonTeaserB = window.eonTeaserB || {};

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// EON - Init
/////////////////////////////////////////////////////////////////////////////////////////////////////////


    eonTeaserB.eonInit = function() {
        eonTeaserB.eonItemCount();
    };

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// EON - Equal heights
/////////////////////////////////////////////////////////////////////////////////////////////////////////

	// Thanks Paul Irish
	$.fn.setAllToMaxHeight = function(){
		return this.height( Math.max.apply(this, $.map( this , function(e){ return $(e).height() }) ) );
	}


/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// EON - Equal heights
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    eonTeaserB.eonEqualHeights = function () {


	    $('.eon-s-teaserB').each(function () {

            var bw = $('body').width();
	        var el = $(this);

            if(bw >= 480){

                $('p', this).css('height', 'auto').setAllToMaxHeight()﻿;
                $('header', this).css('height', 'auto').setAllToMaxHeight()﻿;

            } else {

                $('p', this).css('height', 'auto');
                $('header', this).css('height', 'auto')﻿;

            } 

	      	
	    });

    };


/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// EON - Item count
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    eonTeaserB.eonItemCount = function () {

        $('.eon-s-teaserB .eon-container').each(function () {

            var el = $(this);
            var elCount =  el.children().size();

            el.parent().addClass('count-' + elCount);

        });

    };

  

/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Load + Ready
/////////////////////////////////////////////////////////////////////////////////////////////////////////

    $(window).on('load', function(){

        eonTeaserB.eonEqualHeights();
      
    });

    $(document).on('ready', function(){

        eonTeaserB.eonInit();
      
    });

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// Resize
/////////////////////////////////////////////////////////////////////////////////////////////////////////


	// jquery.debouncing.js, thanks Paul Irish

    $(window).smartresize(function(){
  		eonTeaserB.eonEqualHeights();
	});

/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

})(document,jQuery);

/////////////////////////////////////////////////////////////////////////////////////////////////////////
////// END
/////////////////////////////////////////////////////////////////////////////////////////////////////////

